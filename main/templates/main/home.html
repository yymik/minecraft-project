<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ìŠ¤í‹°ë¸ ìœ„í‚¤</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      font-family: 'Noto Sans KR', sans-serif;
      background-color: #f3f3f3;
    }
    .top-bar {
      background-color: #ffffff;
      border-bottom: 2px solid black;
      padding: 10px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .top-bar-left {
      display: flex;
      gap: 10px;
      align-items: center;
    }
    .top-bar-right {
      display: flex;
      align-items: center;
      gap: 10px;
      position: relative;
    }
    .cc-mark {
      font-size: 11px;
      color: #888;
      position: absolute;
      top: 30px;
      right: 0;
    }
    .search-bar {
      margin: 20px auto 10px auto;
      max-width: 600px;
    }
    .tab-area {
      background-color: #b3b3b3;
      padding: 10px 20px;
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
    }
    .tab-left, .tab-right {
      display: flex;
      gap: 10px;
    }
    .main-box {
      display: flex;
      margin-top: 10px;
      gap: 20px;
    }
    .left-panel {
      flex: 2;
      background: #eee;
      border: 2px solid #ccc;
      padding: 15px;
    }
    .right-panel {
      flex: 1.2;
      background: #e5e5e5;
      border: 2px solid #bbb;
      padding: 15px;
    }
    .wiki-intro {
      background: white;
      border: 2px solid #bbb;
      padding: 20px;
      text-align: center;
    }
    .black-box {
      background: #dcdcdc;
      border: 2px solid #999;
      padding: 10px;
      margin-top: 20px;
      font-size: 14px;
    }
    .category-buttons {
      display: flex;
      justify-content: space-around;
      margin-top: 20px;
    }
    .tool-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-top: 10px;
    }
    .chatbot-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 9999;
    }
    .version-box {
      background: white;
      border: 2px solid #bbb;
      margin-top: 30px;
      padding: 20px;
    }
    .version-box h5 {
      text-align: center;
      font-weight: bold;
      background: url('https://static.wikia.nocookie.net/minecraft_gamepedia/images/3/3a/Grass_Block_JE4_BE2.png') repeat-x center;
      color: white;
      padding: 10px;
      background-size: auto 100%;
    }
    .version-row {
      display: flex;
      justify-content: space-around;
      text-align: center;
      margin-top: 15px;
      flex-wrap: wrap;
    }
    .version-col {
      flex: 1;
      min-width: 150px;
      padding: 10px;
    }
    .version-col img {
      height: 22px;
      margin: 2px;
    }
  </style>
</head>
<body>

<!-- ìƒë‹¨ ë°” -->
<!-- home.htmlì˜ top-bar ë¶€ë¶„ -->
<div class="top-bar">
  <div class="top-bar-left">
    <strong>ìŠ¤í‹°ë¸ ìœ„í‚¤</strong>
    <a href="/wiki/recent-changes/" class="btn btn-primary btn-sm">ìµœê·¼ ë³€ê²½</a>
    <a href="/wiki/discussions/" class="btn btn-primary btn-sm">ìµœê·¼ í† ë¡ </a>
  </div>
  <div class="top-bar-right">
    {% if user.is_authenticated %}
      <span><strong>{{ user.username }}</strong>ë‹˜, í™˜ì˜í•©ë‹ˆë‹¤.</span>
      <a href="{% url 'accounts:mypage' %}" class="btn btn-outline-secondary btn-sm">ë‚´ ê¸°ì—¬</a>
      <form action="{% url 'accounts:logout' %}" method="post" class="d-inline">
        {% csrf_token %}
        <button type="submit" class="btn btn-outline-danger btn-sm">ë¡œê·¸ì•„ì›ƒ</button>
      </form>
    {% else %}
      <span>ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.</span>
      <!-- íšŒì›ê°€ì… ë§í¬: accounts ì•±ì˜ 'register'ë¼ëŠ” ì´ë¦„ì˜ URLì„ ì°¾ì•„ê° -->
      <a href="{% url 'accounts:register' %}" class="btn btn-outline-secondary btn-sm">íšŒì›ê°€ì…</a>
      
      <!-- ë¡œê·¸ì¸ ë§í¬: accounts ì•±ì˜ 'login'ì´ë¼ëŠ” ì´ë¦„ì˜ URLì„ ì°¾ì•„ê° -->
      <a href="{% url 'accounts:login' %}" class="btn btn-outline-primary btn-sm">ë¡œê·¸ì¸</a>
    {% endif %}
    <div class="cc-mark">CC BY-NC-SA 2.0</div>
  </div>
</div>

<!-- ê²€ìƒ‰ -->
<div class="search-bar text-center">
  <form method="GET" action="{% url 'wiki:wiki_search' %}">
    <div class="input-group">
      <input type="text" class="form-control" name="q" placeholder="ì—¬ê¸°ì— ê²€ìƒ‰" required>
      <button class="btn btn-primary" type="submit">
        <i class="fas fa-search"></i> ê²€ìƒ‰
      </button>
    </div>
  </form>
</div>

<!-- íƒ­ ì˜ì—­ -->
<div class="tab-area">
  <div class="tab-left">
    <a href="{% url 'main:discussion' %}" class="btn btn-info">í† ë¡ </a>
    <a href="{% url 'main:history' %}" class="btn btn-info">ì—­ì‚¬</a>
  </div>
  <div class="tab-right">
    <a href="{% url 'main:notice' %}" class="btn btn-info">ê³µì§€ì‚¬í•­</a>
    <a href="{% url 'main:tutorial' %}" class="btn btn-info">íŠœí† ë¦¬ì–¼</a>
  </div>
</div>

<!-- ë³¸ë¬¸ -->
<div class="container main-box">
  <!-- ì¤‘ì•™ ëŒ€ë¬¸ -->
  <div class="left-panel">
    <div class="wiki-intro">
      {% if main_doc %}
        <h5>
          <a href="/wiki/{{ main_doc.title }}/" style="text-decoration: none; color: #006699; font-weight: bold;">
            {{ main_doc.title }}
          </a>
        </h5>
        <p>{{ main_doc.content|linebreaksbr }}</p>
        <a href="/wiki/" class="btn btn-outline-primary btn-sm">ëŒ€ë¬¸</a>
      {% else %}
        <h5>ëŒ€ë¬¸ ë¬¸ì„œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</h5>
        <p>ìœ„í‚¤ ë©”ì¸ ë¬¸ì„œê°€ ì•„ì§ ì‘ì„±ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</p>
        <a href="/wiki/" class="btn btn-outline-primary btn-sm">ëŒ€ë¬¸</a>
      {% endif %}
    </div>

    <div class="black-box">
      <strong>ğŸ“Œ ìœ„í‚¤ì— ì²˜ìŒ ì˜¤ì…¨ë‚˜ìš”?</strong><br>
      <a href="/wiki/ê·œì¹™/">ê·œì¹™</a> Â· <a href="/wiki/í¬ë§·ê°€ì´ë“œ/">í¬ë§·ê°€ì´ë“œ</a> Â· <a href="/wiki/contact/">ë¬¸ì˜ì²˜</a> Â· <a href="/wiki/recruit/">ìš´ì˜ì§„ ëª¨ì§‘</a> Â· <a href="/wiki/qa/">ì§ˆë¬¸ ê²Œì‹œíŒ</a> ë“±ë“± í™•ì¸í•´ë³´ì„¸ìš”.
    </div>

    <div class="category-buttons">
      <a href="{% url 'wiki:wiki_category' 'trade' %}" class="btn btn-secondary">ê±°ë˜</a>
      <a href="{% url 'wiki:wiki_category' 'brewing' %}" class="btn btn-secondary">ì–‘ì¡°</a>
      <a href="{% url 'wiki:wiki_category' 'mobs' %}" class="btn btn-secondary">ëª¹</a>
      <a href="{% url 'wiki:wiki_category' 'blocks' %}" class="btn btn-secondary">ë¸”ë¡</a>
      <a href="{% url 'wiki:wiki_category' 'items' %}" class="btn btn-secondary">ì•„ì´í…œ</a>
    </div>

    <!-- ë²„ì „ ì •ë³´ -->
    <div class="version-box">
      <h5>ë²„ì „ ì¢…ë¥˜</h5>
      <div class="version-row">
        <div class="version-col">
          <strong>Java Edition</strong><br>
          ë¦´ë¦¬ìŠ¤: <b>1.20.1</b><br>
          ê°œë°œ ë²„ì „: ì „íˆ¬ í…ŒìŠ¤íŠ¸ 8c<br>
          ëŸ°ì²˜: 2.4.69 (Win/Mac/Linux)
        </div>
        <div class="version-col">
          <strong>Bedrock Edition</strong><br>
          ë¦´ë¦¬ìŠ¤: <b>1.20.0</b><br>
          ê°œë°œ ë²„ì „: ë² íƒ€ 1.20.10.21<br>
          <img src="https://upload.wikimedia.org/wikipedia/commons/3/3e/Android_logo_2019.png" />
          <img src="https://upload.wikimedia.org/wikipedia/commons/0/05/Playstation_4_logo_and_wordmark.svg" />
          <img src="https://upload.wikimedia.org/wikipedia/commons/4/43/Xbox_logo_2012.svg" />
        </div>
        <div class="version-col">
          <strong>Minecraft Education</strong><br>
          ë¦´ë¦¬ìŠ¤: <b>1.19.52</b><br>
          <img src="https://upload.wikimedia.org/wikipedia/commons/4/4e/Microsoft_Windows_logo_%E2%80%932012.svg" />
          <img src="https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg" />
          <img src="https://upload.wikimedia.org/wikipedia/commons/f/f1/Google_Chrome_icon_%282011%29.png" />
        </div>
        <div class="version-col">
          <strong>Minecraft Dungeons</strong><br>
          ë¦´ë¦¬ìŠ¤: <b>1.17.0.0</b><br>
          <img src="https://upload.wikimedia.org/wikipedia/commons/0/05/Playstation_4_logo_and_wordmark.svg" />
          <img src="https://upload.wikimedia.org/wikipedia/commons/4/43/Xbox_logo_2012.svg" />
        </div>
      </div>
    </div>
  </div>

  <!-- ìš°ì¸¡ ìœ„í‚¤ ë„êµ¬ -->
  <div class="right-panel">
    <h5 class="text-center">ğŸ§° ìœ„í‚¤ ë„êµ¬</h5>
    <div class="tool-grid">
      <a href="/enchant-recommender/" class="btn btn-success">ì¸ì±ˆíŠ¸ ì‹œë®¬ë ˆì´í„°</a>
      <a href="/potions/simulator/" class="btn btn-success">ì–‘ì¡° ì‹œë®¬ë ˆì´í„°</a>
      <a href="/save-analyzer/upload/" class="btn btn-success">ë„ì „ê³¼ì œ ì •ë³´</a>
      <a href="/wiki/recent-changes/" class="btn btn-success">ìµœê·¼ ë³€ê²½</a>
      <a href="/chatbot/user-info/" class="btn btn-success">ë§ˆí¬ ìœ ì € ì¡°íšŒ</a>
      <a href="/skin-editor/" class="btn btn-success">ìŠ¤í‚¨ ìƒì„±/í¸ì§‘ê¸°</a>
    </div>

    <h6 class="mt-4">ìì£¼ ì°¾ëŠ” ë¬¸ì„œ</h6>
    <ul class="small">
      <li>â—‹ <a href="{% url 'wiki:wiki_detail' 'ë‹¤ì´ì•„ëª¬ë“œ ê´‘ì„ ì±„êµ´ ê°€ì´ë“œ' %}" class="text-decoration-none">ë‹¤ì´ì•„ëª¬ë“œ ê´‘ì„ ì±„êµ´ ê°€ì´ë“œ</a></li>
      <li>â—‹ <a href="{% url 'wiki:wiki_detail' 'ë„¤ë”ë¼ì´íŠ¸ ì—…ê·¸ë ˆì´ë“œ ë‹¨ê³„ë³„ ì•ˆë‚´' %}" class="text-decoration-none">ë„¤ë”ë¼ì´íŠ¸ ì—…ê·¸ë ˆì´ë“œ ë‹¨ê³„ë³„ ì•ˆë‚´</a></li>
      <li>â—‹ <a href="{% url 'wiki:wiki_detail' 'ì—”ë” ë“œë˜ê³¤ ì „íˆ¬ ì „ëµ' %}" class="text-decoration-none">ì—”ë” ë“œë˜ê³¤ ì „íˆ¬ ì „ëµ</a></li>
    </ul>
  </div>
</div>

<!-- ì±—ë´‡ ì˜¤ë²„ë ˆì´ -->
<div class="chatbot-btn">
  <button class="btn btn-success" onclick="toggleChatbot()">ì±—ë´‡ ìŠ¤í‹°ë¸</button>
</div>

<div id="chatbotOverlay" style="display:none; position:fixed; bottom:80px; right:20px; width:350px; height:500px; background:white; border:2px solid #888; z-index:10000; box-shadow: 0 0 10px rgba(0,0,0,0.3);">
  <div style="background:#28a745; color:white; padding:10px; font-weight:bold;">
    ì±—ë´‡ ìŠ¤í‹°ë¸
    <button style="float:right; background:none; border:none; color:white;" onclick="toggleChatbot()">X</button>
  </div>
  <iframe src="/chatbot/chat/" width="100%" height="90%" style="border:none;"></iframe>
</div>

<script>
  function toggleChatbot() {
    const overlay = document.getElementById('chatbotOverlay');
    overlay.style.display = overlay.style.display === 'none' ? 'block' : 'none';
  }
</script>
</body>
</html>
