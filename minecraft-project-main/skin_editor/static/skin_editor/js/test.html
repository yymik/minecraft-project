<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SkinView3D - Minimal Test (Inside Django Static)</title>
    <style>
        body { margin: 20px; font-family: sans-serif; }
        #skinViewerContainer {
            width: 300px;
            height: 400px;
            border: 1px solid #ccc;
            background-color: #f0f0f0;
            margin: 0 auto;
        }
    </style>
</head>
<body>

    <h1>SkinView3D Minimal Test (Inside Django Static)</h1>
    <p>아래 영역에 3D 스킨 뷰어가 나타나야 합니다.</p>
    <div id="skinViewerContainer"></div>

    <!-- 1. skinview3d 라이브러리 로드 (test.html과 같은 폴더에 있다고 가정) -->
    <script src="./skinview3d.bundle.js"></script>

    <!-- 2. 뷰어 초기화 스크립트 -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            console.log("DOMContentLoaded, initializing SkinViewer (Django static test).");

            const viewerContainer = document.getElementById('skinViewerContainer');
            if (!viewerContainer) {
                console.error("Viewer container element not found!");
                return;
            }

            // 사용할 스킨 이미지 경로 또는 URL
            // 옵션 1: 로컬 파일 (test.html 기준으로 skin_editor/assets/images/default_skin.png)
            const skinImagePath = '../assets/images/default_skin.png'; // 경로 수정! js 폴더에서 상위로, 다시 assets로

            // 옵션 2: 공개된 스킨 URL
            // const skinImageUrl = 'https://minotar.net/skin/Steve';

            try {
                const skinViewer = new skinview3d.SkinViewer({
                    domElement: viewerContainer,
                    width: viewerContainer.clientWidth,
                    height: viewerContainer.clientHeight,
                    skinUrl: skinImagePath, // 옵션 1 사용 시
                    // skinUrl: skinImageUrl, // 옵션 2 사용 시
                    animation: new skinview3d.IdleAnimation()
                });
                console.log("SkinViewer instance created (Django static test):", skinViewer);

            } catch (error) {
                console.error("Error initializing SkinViewer (Django static test):", error);
                if (viewerContainer) {
                     viewerContainer.innerHTML = "<p style='color:red;'>Error initializing SkinViewer. Check console.</p>";
                }
            }
        });
    </script>

</body>
</html>