{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마인크래프트 스킨 편집기</title>
    <link rel="stylesheet" href="{% static 'skin_editor/css/style.css' %}">
</head>
<body>
    <header>
        <h1>마인크래프트 스킨 편집기</h1>
    </header>

    <main>
        <section class="controls">
            <h2>컨트롤</h2>
            <div class="control-group">
                <label for="usernameInput">플레이어 이름으로 스킨 불러오기12:</label>
                <input type="text" id="usernameInput" placeholder="Minecraft Username">
                <button id="loadSkinButton" type="button">스킨 불러오기</button>
            </div>
            <div class="control-group">
                <label for="colorPicker">색상 선택:</label>
                <input type="color" id="colorPicker" value="#000000">
            </div>
            <!-- 추가적인 그리기 도구 컨트롤 (예: 펜/지우개 토글, 브러시 크기 등)은 여기에 추가 -->
            <div class="control-group">
                <button id="downloadButton" type="button">스킨 다운로드 (.png)</button>
            </div>
            <p class="info">
                <strong>참고:</strong> 다운로드한 스킨은
                <a href="https://www.minecraft.net/msaprofile/profile/skin" target="_blank" rel="noopener noreferrer">Minecraft 공식 웹사이트</a>에
                로그인하여 직접 업로드해야 자신의 캐릭터에 적용됩니다.
            </p>
        </section>

        <section class="editor-area">
            <div class="canvas-container">
                <h2>2D 편집기 (64x64)</h2>
                <canvas id="skinCanvas" width="64" height="64"></canvas>
            </div>
            <div class="preview-container">
                <h2>3D 미리보기</h2>
                <div id="skinPreview">
                    <!-- skinview3d 라이브러리가 여기에 3D 뷰어를 렌더링합니다. -->
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>© Your Project Name or Your Name</p> <!-- 이 부분은 실제 프로젝트 정보로 수정하세요 -->
    </footer>

    <!-- 1. skinview3d 라이브러리 먼저 로드 (CDN 사용) -->
    {% load static %}
    <script src="{% static 'skin_editor/js/skinview3d.bundle.js' %}"></script>



    <script>
        // JavaScript에서 사용할 수 있도록 Django 템플릿 태그로 URL 생성
        // 이 변수들은 main.js 파일이 로드되기 전에 정의되어야 합니다.
        var defaultSkinUrl = "{% static 'skin_editor/assets/images/default_skin.png' %}"; // 기본 스킨 이미지 경로
        var getSkinApiUrlTemplate = "{% url 'skin_editor:get_skin_api' %}"; // API URL 템플릿
    </script>

    <!-- 2. 그 다음에 메인 JavaScript 파일 로드 -->
    <script src="{% static 'skin_editor/js/main.js' %}"></script>
</body>
</html>